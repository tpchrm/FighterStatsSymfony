{% extends 'base.html.twig' %}

{% block body %}
    <div class="py-2">
        <h1>Liste des derniers combats <a class="btn btn-secondary" href="{{ path('fight_list') }}">Programmer un combat</a></h1>

        {% if lastFights is empty %}
            <div class="alert alert-warning text-center">
                Aucun combat n'a été programmé pour le moment.
            </div>
        {% endif %}

        <table class="table table-dark table-bordered table-striped table-hover text-center">
            <thead>
            <tr>
                <th>Date</th>
                <th>Coin bleu</th>
                <th>Coin rouge</th>
                <th>Division</th>
                <th>Vainqueur</th>
                <th>Statistiques</th>
            </tr>
            </thead>

            <tbody>
            {% for fight in lastFights %}
                <tr>
                    <td>{{ fight.date.format('d/m/Y') }}</td>
                    <td>{{ fight.blueFighterMen }}</td>
                    <td>{{ fight.redFighterMen }}</td>
                    <td>{{ fight.redFighterMen.division }}</td>
                    <td>{{ fight.winner }}</td>
                    <td>
                        <a href="{{ path('fight_stats', {'fight_id': fight.id}) }}" class="btn btn-danger">Voir</a>
                    </td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>

    <div class="py-2">
        <h1>Liste des derniers combattants <a class="btn btn-secondary" href="{{ path('fighter_men_add') }}">Ajouter un combattant</a></h1>

        {% if lastFighters is empty %}
            <div class="alert alert-warning text-center">
                Aucun combattant n'a été ajouté pour le moment.
            </div>
        {% endif %}

        <table class="table table-dark table-bordered table-striped table-hover text-center">
            <thead>
            <tr>
                <td>Nom</td>
                <td>Prénom</td>
                <td>Origine</td>
                <td>Division</td>
                <td>Détails</td>
            </tr>
            </thead>
            <tbody>
            {% for fighter_men in lastFighters %}
                <tr>
                    <td>{{ fighter_men.lastname }}</td>
                    <td>{{ fighter_men.firstname }}</td>
                    <td>{{ fighter_men.origin }}</td>
                    <td>{{ fighter_men.division.divisionEng }}</td>
                    <td>
                        <a class="btn btn-info" href="{{ path('fighter_men_show',{'id': fighter_men.id}) }}">Voir</a>
                        <a class="btn btn-warning" href="{{ path('fighter_men_update',{'id': fighter_men.id}) }}">Éditer</a>
                        <a class="btn btn-danger" href="{{ path('fighter_men_delete',{'id': fighter_men.id}) }}">Supprimer</a>
                    </td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
{% endblock %}