{% extends 'base.html.twig' %}

{% block navlinks %}
    <li class="nav-item">
        <a class="nav-link active" href="{{ path('main_menu') }}">Accueil</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" href="{{ path('fighter_men') }}">Combattants</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" href="{{ path('fight_list') }}">Combats</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" href="{{ path('help_page') }}">Aide & Documentation</a>
    </li>
{% endblock %}

{% block body %}
    <div class="py-2">
        <h1>Liste des derniers combats <a class="btn btn-secondary float-md-end" href="{{ path('fight_list') }}">Lister tout les combats</a></h1>

        {% if lastFights is empty %}
            <div class="alert alert-warning text-center">
                Aucun combat n'a été programmé pour le moment.
            </div>
        {% endif %}

        <table class="table table-dark table-bordered table-striped table-hover text-center">
            <thead>
            <tr>
                <th>Date</th>
                <th>Coin bleu</th>
                <th>Coin rouge</th>
                <th>Division</th>
                <th>Vainqueur</th>
                <th>Statistiques</th>
            </tr>
            </thead>

            <tbody>
            {% for fight in lastFights %}
                <tr>
                    <td>{{ fight.date.format('d/m/Y') }}</td>
                    <td>{{ fight.blueFighterMen }}</td>
                    <td>{{ fight.redFighterMen }}</td>
                    <td>{{ fight.redFighterMen.division }}</td>
                    <td>{{ fight.winner }}</td>
                    <td>
                        <a href="{{ path('fight_stats', {'fight_id': fight.id}) }}" class="btn btn-danger">Voir</a>
                    </td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>

    <div class="py-2">
        <h1>Top 5 des divisions <a class="btn btn-secondary  float-md-end" href="{{ path('fighter_men') }}">Lister tout les combattants</a> </h1>
        <div class="row">
            <div class="col-sm-12 col-md-6">
                <table class="table table-dark table-bordered table-striped table-hover text-center">
                    <thead>
                    <tr>
                        <td colspan="4">Flyweight - Poids Mouches</td>
                    </tr>
                    <tr>
                        <td>Nom</td>
                        <td>Prénom</td>
                        <td>Victoires</td>
                        <td>Détails</td>
                    </tr>
                    </thead>
                    <tbody>
                    {% for fighter in topFLW %}
                        <tr>
                            <td>{{ fighter.lastname }}</td>
                            <td>{{ fighter.firstname }}</td>
                            <td>{{ fighter.wins }}</td>
                            <td>
                                <a class="btn btn-info" href="{{ path('fighter_men_show',{'id': fighter.id}) }}">Voir</a>
                            </td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>
            <div class="col-sm-12 col-md-6">
                <table class="table table-dark table-bordered table-striped table-hover text-center">
                    <thead>
                    <tr>
                        <td colspan="4">Bantamweight - Poids Coqs</td>
                    </tr>
                    <tr>
                        <td>Nom</td>
                        <td>Prénom</td>
                        <td>Victoires</td>
                        <td>Détails</td>
                    </tr>
                    </thead>
                    <tbody>
                    {% for fighter in topBW %}
                        <tr>
                            <td>{{ fighter.lastname }}</td>
                            <td>{{ fighter.firstname }}</td>
                            <td>{{ fighter.wins }}</td>
                            <td>
                                <a class="btn btn-info" href="{{ path('fighter_men_show',{'id': fighter.id}) }}">Voir</a>
                            </td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>
            <div class="col-sm-12 col-md-6">
                <table class="table table-dark table-bordered table-striped table-hover text-center">
                    <thead>
                    <tr>
                        <td colspan="4">Featherweight - Poids Plumes</td>
                    </tr>
                    <tr>
                        <td>Nom</td>
                        <td>Prénom</td>
                        <td>Victoires</td>
                        <td>Détails</td>
                    </tr>
                    </thead>
                    <tbody>
                    {% for fighter in topFTW %}
                        <tr>
                            <td>{{ fighter.lastname }}</td>
                            <td>{{ fighter.firstname }}</td>
                            <td>{{ fighter.wins }}</td>
                            <td>
                                <a class="btn btn-info" href="{{ path('fighter_men_show',{'id': fighter.id}) }}">Voir</a>
                            </td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>
            <div class="col-sm-12 col-md-6">
                <table class="table table-dark table-bordered table-striped table-hover text-center">
                    <thead>
                    <tr>
                        <td colspan="4">Lighweight - Poids Légers</td>
                    </tr>
                    <tr>
                        <td>Nom</td>
                        <td>Prénom</td>
                        <td>Victoires</td>
                        <td>Détails</td>
                    </tr>
                    </thead>
                    <tbody>
                    {% for fighter in topLW %}
                        <tr>
                            <td>{{ fighter.lastname }}</td>
                            <td>{{ fighter.firstname }}</td>
                            <td>{{ fighter.wins }}</td>
                            <td>
                                <a class="btn btn-info" href="{{ path('fighter_men_show',{'id': fighter.id}) }}">Voir</a>
                            </td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>
            <div class="col-sm-12 col-md-6">
                <table class="table table-dark table-bordered table-striped table-hover text-center">
                    <thead>
                    <tr>
                        <td colspan="4">Welterweight - Poids Mi-Moyen</td>
                    </tr>
                    <tr>
                        <td>Nom</td>
                        <td>Prénom</td>
                        <td>Victoires</td>
                        <td>Détails</td>
                    </tr>
                    </thead>
                    <tbody>
                    {% for fighter in topWW %}
                        <tr>
                            <td>{{ fighter.lastname }}</td>
                            <td>{{ fighter.firstname }}</td>
                            <td>{{ fighter.wins }}</td>
                            <td>
                                <a class="btn btn-info" href="{{ path('fighter_men_show',{'id': fighter.id}) }}">Voir</a>
                            </td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>
            <div class="col-sm-12 col-md-6">
                <table class="table table-dark table-bordered table-striped table-hover text-center">
                    <thead>
                    <tr>
                        <td colspan="4">Middleweight - Poids Moyens</td>
                    </tr>
                    <tr>
                        <td>Nom</td>
                        <td>Prénom</td>
                        <td>Victoires</td>
                        <td>Détails</td>
                    </tr>
                    </thead>
                    <tbody>
                    {% for fighter in topMW %}
                        <tr>
                            <td>{{ fighter.lastname }}</td>
                            <td>{{ fighter.firstname }}</td>
                            <td>{{ fighter.wins }}</td>
                            <td>
                                <a class="btn btn-info" href="{{ path('fighter_men_show',{'id': fighter.id}) }}">Voir</a>
                            </td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>
            <div class="col-sm-12 col-md-6">
                <table class="table table-dark table-bordered table-striped table-hover text-center">
                    <thead>
                    <tr>
                        <td colspan="4">Light Heavyweight - Poids Lourds-Légers</td>
                    </tr>
                    <tr>
                        <td>Nom</td>
                        <td>Prénom</td>
                        <td>Victoires</td>
                        <td>Détails</td>
                    </tr>
                    </thead>
                    <tbody>
                    {% for fighter in topLHW %}
                        <tr>
                            <td>{{ fighter.lastname }}</td>
                            <td>{{ fighter.firstname }}</td>
                            <td>{{ fighter.wins }}</td>
                            <td>
                                <a class="btn btn-info" href="{{ path('fighter_men_show',{'id': fighter.id}) }}">Voir</a>
                            </td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>
            <div class="col-sm-12 col-md-6">
                <table class="table table-dark table-bordered table-striped table-hover text-center">
                    <thead>
                    <tr>
                        <td colspan="4">Heavyweight - Poids Lourds</td>
                    </tr>
                    <tr>
                        <td>Nom</td>
                        <td>Prénom</td>
                        <td>Victoires</td>
                        <td>Détails</td>
                    </tr>
                    </thead>
                    <tbody>
                    {% for fighter in topHW %}
                        <tr>
                            <td>{{ fighter.lastname }}</td>
                            <td>{{ fighter.firstname }}</td>
                            <td>{{ fighter.wins }}</td>
                            <td>
                                <a class="btn btn-info" href="{{ path('fighter_men_show',{'id': fighter.id}) }}">Voir</a>
                            </td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
{% endblock %}